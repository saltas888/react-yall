(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1066:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),i=n(6),o=n(3),s=n(11),l=n(7),u=n(8),d=n(13),m=n(9),f=n(2),p=n(12),v=function(){return{intersectionObserverSupport:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,idleCallbackSupport:"requestIdleCallback"in window}},b=Object(a.createContext)(),h=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).push=n.push.bind(Object(f.a)(n)),n.remove=n.remove.bind(Object(f.a)(n)),n.yallLoad=n.yallLoad.bind(Object(f.a)(n)),n.state={yallElements:[]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.options;!0===v().intersectionObserverSupport&&(this.intersectionListener=new IntersectionObserver(function(n,r){n.forEach(function(n){if(!0===n.isIntersecting&&n.intersectionRatio>0){var r=n.target;!0===t.idlyLoad?requestIdleCallback(function(){return e.yallLoad(r)},e.idleCallbackOptions):e.yallLoad(r),r.classList.remove(t.lazyClass),e.remove(r)}})},{rootMargin:"".concat(t.threshold,"px 0%")}),this.state.yallElements.forEach(function(t){return e.intersectionListener.observe(t)}))}},{key:"componentWillUnmount",value:function(){this.intersectionListener&&this.intersectionListener.disconnect()}},{key:"onAddElement",value:function(e){!0===v().intersectionObserverSupport&&this.intersectionListener.observe(e)}},{key:"onRemoveElement",value:function(e){!0===v().intersectionObserverSupport&&this.intersectionListener.unobserve(e)}},{key:"yallLoad",value:function(e){var t=this.props.options;e.flipSrc(),"VIDEO"===e.tagName&&!0===e.autoplay&&e.load(),e.classList.contains(t.lazyBackgroundClass)&&(e.classList.remove(t.lazyBackgroundClass),e.classList.add(t.lazyBackgroundLoaded))}},{key:"push",value:function(e){var t=this;this.setState(function(t){return{yallElements:[].concat(Object(s.a)(t.yallElements),[e])}},function(){return t.onAddElement(e)})}},{key:"remove",value:function(e){var t=this;this.setState(function(t){return{yallElements:t.yallElements.filter(function(t){return t===e})}},function(){return t.onRemoveElement(e)})}},{key:"render",value:function(){var e=this;return c.a.createElement(b.Provider,{value:this},c.a.createElement("div",{className:"yall-provider-container",ref:function(t){return e.yallProvider=t}},this.props.children))}},{key:"idleCallbackOptions",get:function(){return{timeout:this.props.options.idleLoadTimeout}}}]),t}(c.a.Component);function y(e){var t=this,n=e.dataSrc,i=e.src,s=Object(o.a)(e,["dataSrc","src"]),l=Object(a.useState)(i),u=Object(r.a)(l,2),d=u[0],m=u[1],f=Object(a.useRef)(null),p=Object(a.useContext)(b),v=p.push,h=p.remove;return Object(a.useEffect)(function(){if(f.current)return f.current.flipSrc=m.bind(t,n),v(f.current),function(){return h(f.current)}},[null!==f.current]),c.a.createElement("img",Object.assign({ref:f},s,{src:d,"data-src":n}))}function O(e){var t=e.sources,n=e.src,i=e.dataSrc,s=e.children,l=Object(o.a)(e,["sources","src","dataSrc","children"]),u=Object(a.useState)(n),d=Object(r.a)(u,2),m=d[0],f=d[1],p=Object(a.useState)(t&&t.map(function(e){return e.srcSet})),v=Object(r.a)(p,2),h=v[0],y=v[1],O=Object(a.useRef)(null),E=t&&t.map(function(e){return Object(a.useRef)(null)}),g=Object(a.useContext)(b),j=g.push,k=g.remove;return Object(a.useEffect)(function(){if(O.current)return O.current.flipSrc=function(){f(i),t&&y(t.map(function(e){return e.dataSrcSet}))},j(O.current),function(){return k(O.current)}},[null!==O.current]),c.a.createElement("video",Object.assign({src:m,"data-src":i,ref:O},l),t&&t.map(function(e,t){return c.a.createElement("source",{ref:E[t],key:e.type,type:e.type,srcSet:h[t],"data-srcset":e.dataSrcSet})}),s)}h.contextType=b,h.defaultProps={options:{lazyClass:"lazy",lazyBackgroundClass:"lazy-bg",lazyBackgroundLoaded:"lazy-bg-loaded",idlyLoad:!1,idleLoadTimeout:100,threshold:200}};for(var E=n(10),g=n.n(E),j="https://dummyimage.com/600x400/000/fff.png&text=placeholder",k=[],S=0;S<50;S++)k.push(g.a.image.imageUrl());var L=function(e){return c.a.createElement("div",{className:"images-container"},k.map(function(e,t){return c.a.createElement("div",{key:t,style:{height:500,width:500}},c.a.createElement(y,{alt:"Image ".concat(t),width:"100%",height:"100%",src:j,dataSrc:e}))}))},w=[];for(S=0;S<10;S++)w.push("https://download.blender.org/peach/bigbuckbunny_movies/BigBuckBunny_320x180.mp4");var C=function(e){return c.a.createElement("div",{className:"images-container"},w.map(function(e,t){return c.a.createElement("div",{key:t,style:{height:500,width:500}},c.a.createElement(O,{width:"100%",height:"100%",autoPlay:!0,src:j,dataSrc:e}))}))};Object(i.render)(c.a.createElement(function(){Object(a.useEffect)(function(){document.title="React Yall Demo"},[]);var e=Object(a.useState)("images"),t=Object(r.a)(e,2),n=t[0],i=t[1];return c.a.createElement("div",{style:{width:640,margin:"15px auto"}},c.a.createElement("h1",null,"React Yall Demo"),c.a.createElement("nav",null,c.a.createElement("a",{href:"#",onClick:function(e){i("images"),e.preventDefault()}},"Images"),c.a.createElement("a",{style:{marginLeft:"50px"},href:"#",onClick:function(e){i("videos"),e.preventDefault()}},"Videos")),c.a.createElement(h,null,"images"===n&&c.a.createElement(L,null),"videos"===n&&c.a.createElement(C,null)))},null),document.getElementById("root"))},14:function(e,t,n){e.exports=n(1066)}},[[14,1,2]]]);
//# sourceMappingURL=main.25beffc5.chunk.js.map